execute at @s as @a[sort=nearest,distance=0..5,limit=1,y_rotation=225..-45] run function wfyr:blocks/wireless_redstone/transmitter/summons/east
execute at @s as @a[sort=nearest,distance=0..5,limit=1,y_rotation=45..135] run function wfyr:blocks/wireless_redstone/transmitter/summons/west
execute at @s as @a[sort=nearest,distance=0..5,limit=1,y_rotation=-45..45] run function wfyr:blocks/wireless_redstone/transmitter/summons/south
execute at @s as @a[sort=nearest,distance=0..5,limit=1,y_rotation=135..225] run function wfyr:blocks/wireless_redstone/transmitter/summons/north

execute as @e[distance=0..1,sort=nearest,tag=redstone_transmitter] run execute if entity @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] run execute as @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] at @s store result score @s pos.x run data get entity @s Pos[0]
execute as @e[distance=0..1,sort=nearest,tag=redstone_transmitter] run execute if entity @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] run execute as @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] at @s store result score @s pos.y run data get entity @s Pos[1]
execute as @e[distance=0..1,sort=nearest,tag=redstone_transmitter] run execute if entity @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] run execute as @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] at @s store result score @s pos.z run data get entity @s Pos[2]

execute as @e[distance=0..1,sort=nearest,tag=redstone_transmitter] run execute at @s as @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300] if score @s redstone_link = @e[sort=nearest,limit=1,tag=redstone_transmitter,distance=..1] redstone_link run tellraw @p ["",{"text":"Attention","italic":true,"bold":true,"color":"red"},{"text":": Il y a déjà un transmetteur sur le canal "},{"score":{"name":"@s","objective":"redstone_link"},"bold":true,"color":"#1F9EFA"},{"text":" en x: "},{"score":{"name":"@e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300]","objective":"pos.x"},"bold":true,"color":"gold"},{"text":", y: "},{"score":{"name":"@e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300]","objective":"pos.y"},"bold":true,"color":"red"},{"text":", z: "},{"score":{"name":"@e[sort=nearest,limit=1,tag=redstone_transmitter,distance=1..300]","objective":"pos.z"},"bold":true,"color":"dark_green"},{"text":"."}]

execute at @s run kill @s[tag=redstone_transmitter_spawner]